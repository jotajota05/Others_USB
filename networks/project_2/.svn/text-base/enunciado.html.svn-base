<strong>Segundo Proyecto (10%)</strong><br /> <br /> El objetivo del proyecto es incorporar concurrencia a la<br /> implementaci&oacute;n del proyecto anterior, permitiendo realizar consultas<br /> simultaneas a m&uacute;ltiples servidores, y que cada servidor pueda<br /> contestar preguntas de m&uacute;ltiples clientes al mismo tiempo. As&iacute; mismo,<br /> se desea incorporar una medida de &quot;calidad&quot; de cada servidor que<br /> favorezca los intervalos de calidad alta en el algoritmo de Marzullo.<br /> <br /> La operaci&oacute;n b&aacute;sica consiste en que la aplicaci&oacute;n c_tiempo ahora debe<br /> leer de un archivo de texto las direcciones IP o hostnames de m&aacute;quinas<br /> que deben estar ejecutando la aplicaci&oacute;n s_tiempo (una por cada<br /> l&iacute;nea). La aplicaci&oacute;n c_tiempo deber&aacute; entonces realizar el numero de<br /> consultas especificado como par&aacute;metro de forma simultanea a cada uno<br /> de los servidores en el archivo de texto, generando un hilo o proceso<br /> para atender cada uno de los servidores. Obs&eacute;rvese que a&uacute;n cuando se<br /> hacen m&uacute;ltiples consultas simult&aacute;neamente, cada hilo o proceso estar&aacute;<br /> haciendo preguntas de forma secuencial, por lo que se deben ajustar<br /> los intervalos de la misma forma que en el proyecto anterior.<br /> <br /> Por otro lado, la aplicaci&oacute;n s_tiempo deber&aacute; implementarse como un<br /> servidor concurrente, es decir, que al recibir una petici&oacute;n genere un<br /> hilo o proceso encargado de atenderla. De esta manera, una m&aacute;quina<br /> corriendo s_tiempo debe ser capaz de responder a m&uacute;ltiples clientes de<br /> forma simultanea.<br /> <br /> Al arrancar la aplicaci&oacute;n s_tiempo, el usuario deber&aacute; suministrar un<br /> par&aacute;metro num&eacute;rico (entre 1 y 10) que representara la calidad de la<br /> hora en ese servidor. En las respuestas a los clientes, se deber&aacute;<br /> enviar, adem&aacute;s de la hora actual, el valor de calidad de ese<br /> servidor. El cliente deber&aacute; emplear ese valor de calidad para<br /> favorecer las respuestas con valores de calidad mas altos ante<br /> aquellas con valores de calidad mas bajos en la aplicaci&oacute;n del<br /> algoritmo de Marzullo.<br /> <br /> El criterio para considerar el peso del par&aacute;metro de calidad en<br /> Marzullo puede ser de la siguiente manera: si un intervalo tiene una<br /> calidad de 1 se considera como un intervalo normal en el calculo de<br /> Marzullo. Si un intervalo tiene una calidad de 2, se considerara como<br /> dos intervalos iguales en el calculo de Marzullo. Si un intervalo<br /> tiene una calidad de 3, se considerara como tres intervalos iguales en<br /> el calculo de Marzullo, y as&iacute; sucesivamente.<br /> <br /> Al igual que el proyecto anterior, la implementaci&oacute;n debe usar los<br /> protocolos UDP y TCP.<br /> <br /> La sintaxis de la aplicaci&oacute;n cliente es:<br /> <br /><font face="courier new,courier"> c_tiempo -f &lt;archivo&gt; -p &lt;puerto&gt; -v &lt;numero de preguntas&gt; {-t|-u} [-n]</font><br /> <br /> donde:<br /> <br /><font face="courier new,courier"> &nbsp;-f &lt;archivo&gt; Indica un archivo de texto que contiene en cada linea la<br />  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;direcci&oacute;n IP o hostname de una m&aacute;quina donde esta<br />  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ejecut&aacute;ndose la aplicaci&oacute;n servidor. Debe contener AL MENOS<br />  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;una direcci&oacute;n IP o hostname.<br /><br /> &nbsp;-p &lt;puerto&gt; Indica el puerto a trav&eacute;s del cual se debe contactar a la<br />  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; aplicaci&oacute;n servidor.<br /><br /> &nbsp;-v &lt;numero de preguntas&gt; Indica el numero de veces que el cliente<br />  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;preguntar&aacute; la hora al servidor.<br /><br /> &nbsp;-t Indica que se desea utilizar el protocolo TCP. La aplicaci&oacute;n servidor debe<br />  &nbsp; &nbsp;estar ejecut&aacute;ndose empleando el mismo protocolo.<br /><br /> &nbsp;-u Indica que se desea utilizar el protocolo UDP. La aplicaci&oacute;n servidor debe<br />  &nbsp; &nbsp;estar ejecut&aacute;ndose empleando el mismo protocolo.<br /><br /> &nbsp;-n Indica que la hora obtenida debe mostrarse por la salida est&aacute;ndar,<br />  &nbsp; &nbsp;en lugar de tratar de establecerla como hora del sistema (&uacute;til si<br />  &nbsp; &nbsp;no se tienen privilegios de administraci&oacute;n).</font>     <br /> <br /> La sintaxis de la aplicaci&oacute;n servidor es:<br /> <br /><font face="courier new,courier"> s_tiempo -p &lt;puerto&gt; {-t|-u} -c &lt;calidad&gt;<br /><br /> &nbsp;-p &lt;puerto&gt; Indica el puerto a trav&eacute;s del cual se aceptar&aacute;n peticiones de<br />  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; la aplicaci&oacute;n cliente.<br /><br /> &nbsp;-t Indica que se desea utilizar el protocolo TCP. Se contestar&aacute;n peticiones de<br />  &nbsp; &nbsp;la aplicaci&oacute;n cliente utilizando TCP.<br /><br /> &nbsp;-u Indica que se desea utilizar el protocolo UDP. Se contestar&aacute;n peticiones de<br />  &nbsp; &nbsp;la aplicaci&oacute;n cliente utilizando TCP.<br /><br /> &nbsp;-c Indica el valor de calidad que tendr&aacute;n las respuestas de este servidor. El valor<br />  &nbsp; &nbsp;debe ser num&eacute;rico entre 1 y 10.</font>    <br /> <br /> Al igual que el proyecto anterior, todos los par&aacute;metros son<br /> obligatorios excepto &quot;-n&quot;, y las opciones &quot;-t&quot; y &quot;-u&quot; son mutuamente<br /> excluyentes. Se recomienda utilizar los &uacute;ltimos 5 d&iacute;gitos del n&uacute;mero<br /> de carnet de uno de los integrantes de cada equipo como n&uacute;mero de<br /> puerto, para evitar conflictos con otros equipos.<br /> <br /> Cualquiera que sea el m&eacute;todo seleccionado por el cliente, al finalizar<br /> la ejecuci&oacute;n del programa cliente el computador local debe mostrar la<br /> hora obtenida y establecerla como hora del sistema donde se ejecuta,<br /> exceptuando el caso en que haya sido invocado con la opci&oacute;n &quot;-n&quot;.<br /> Adicionalmente, debe dar algunas estad&iacute;sticas como salida, en<br /> particular, tama&ntilde;o promedio del intervalo entre la realizaci&oacute;n de la<br /> pregunta y la obtenci&oacute;n de la respuesta y, en el caso de UDP, indicar<br /> cuantas preguntas hubo cuyas respuestas no se recibieron.<br /> <br /> El nivel de granularidad de la sincronizaci&oacute;n debe ser al menos de<br /> segundos.<br /> <br /> La implementaci&oacute;n debe realizarse usando la librer&iacute;a est&aacute;ndar de<br /> sockets en C, y debe compilar y ejecutarse sin problemas en cualquier<br /> estaci&oacute;n de trabajo del LDC. La implementaci&oacute;n debe manejar<br /> adecuadamente situaciones excepcionales (errores) en las llamadas al<br /> sistema. Deben seguirse los principios de modularidad, estilo y<br /> documentaci&oacute;n (comentarios) en el c&oacute;digo fuente implementado.<br /> <br /> El proyecto deber&aacute; entregarse por aula virtual, subiendo un archivo<br /> tar.gz cuyo nombre sea p2-g&lt;GRUPO&gt;.tar.gz en el &aacute;rea de documentos de<br /> grupo. &nbsp;Dentro del archivo debe existir un directorio llamado de la<br /> misma forma con los fuentes y un archivo Makefile que permita compilar<br /> el proyecto (tanto cliente como servidor) ejecutando simplemente el<br /> comando make (por ejemplo, si es el grupo 10, el archivo deber&aacute;<br /> llamarse p2-g10.tar.gz y contener un &uacute;nico directorio llamado p2-g10<br /> dentro del cual se encuentre el c&oacute;digo fuente y el archivo<br /> makefile). Los proyectos que no cumplan con estas reglas tendr&aacute;n<br /> penalizaci&oacute;n en la nota final. Adicionalmente se debe entregar un<br /> archivo PDF de 3 p&aacute;ginas m&aacute;ximo que contenga un manual de uso, el<br /> dise&ntilde;o b&aacute;sico de la herramienta y dos diagramas de secuencia que<br /> muestren la interacci&oacute;n entre cliente y servidor en ambos protocolos<br /> (TCP y UDP).<br /> <br /> El proyecto debe entregarse antes del d&iacute;a 04/03/2009 a las 11:59pm a<br /> trav&eacute;s de aula virtual.